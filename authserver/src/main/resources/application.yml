server:
  port: 9093
  address: 127.0.0.1
  servlet:
    context-path: /

spring:
  profiles:
    active: test
  data:
    cassandra:
      contactPoints: 127.0.0.1
      port: 9042

website:
  cql-create-keyspace: "CREATE KEYSPACE IF NOT EXISTS %s WITH REPLICATION = { 'class' : 'SimpleStrategy', 'replication_factor' : 1 };"
  oauth2-client:
    facebook:
      client:
        clientId: ${FACEBOOK_CLIENT_ID}
        clientSecret: ${FACEBOOK_CLIENT_SECRET}
        accessTokenUri: https://graph.facebook.com/oauth/access_token
        userAuthorizationUri: https://www.facebook.com/dialog/oauth
        tokenName: oauth_token
        authenticationScheme: query
        clientAuthenticationScheme: form
      resource:
        userInfoUri: https://graph.facebook.com/me
    google:
      client:
        clientId: ${GOOGLE_CLIENT_ID}
        clientSecret: ${GOOGLE_CLIENT_SECRET}
        accessTokenUri: https://www.googleapis.com/oauth2/v3/token
        userAuthorizationUri: https://accounts.google.com/o/oauth2/auth
        tokenName: oauth_token
        authenticationScheme: query
        clientAuthenticationScheme: form
        scope: openid email
      resource:
        userInfoUri: https://www.googleapis.com/userinfo/v2/me
    github:
      client:
        clientId: ${GITHUB_CLIENT_ID}
        clientSecret: ${GITHUB_CLIENT_SECRET}
        accessTokenUri: https://github.com/login/oauth/access_token
        userAuthorizationUri: https://github.com/login/oauth/authorize
        clientAuthenticationScheme: form
        scope: user
      resource:
        userInfoUri: https://api.github.com/user

  oauth2-server:
    clientId: ${OAUTH2_CLIENT_ID}
    clientSecret: ${OAUTH2_CLIENT_PASSWORD}
    authorizedGrantTypes:
      - password
      - authorization_code
      - refresh_token
      - client_credentials
    authorities:
      - auth
    accessTokenValiditySeconds: 3600
    refreshTokenValiditySeconds: 3600
    scopes:
      - message:read
      - message:write
    autoApproveScopes:
      - read
      - write
    autoApprove: true
    registeredRedirectUris:
      - http://localhost:9090/login/oauth2/code/website
      - http://localhost:9090/
    resourceIds: oauth2-resource
    additionalInformation:
      org: flowant
  keystore:
    path: classpath:keystore/keystore.jks
    alias: website_keystore
    password: ${OAUTH2_KEYSTORE_STOREPASS}

management:
  endpoints:
    web:
      exposure:
        include: "*"

---
spring:
  profiles: prod
  data:
    cassandra:
      keyspace-name: backend_prod
      schema-action: CREATE_IF_NOT_EXISTS

logging:
  config: classpath:log4j2-spring-prod.xml

---
spring:
  profiles: test
  data:
    cassandra:
      keyspace-name: backend_test
      schema-action: CREATE_IF_NOT_EXISTS
#      schema-action: recreate

logging:
  config: classpath:log4j2-spring-test.xml
